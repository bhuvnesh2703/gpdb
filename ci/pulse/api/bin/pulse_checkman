#!/usr/bin/env ruby

require_relative '../lib/pulse_project'
require 'json'

begin
  url = ARGV.fetch(0)
  project_name = ARGV.fetch(1)

  puts PulseProject.new(url, project_name).checkman_json.to_json

rescue IndexError
  puts "Usage: #{$PROGRAM_NAME} URL_OF_PULSE NAME_OF_PULSE_PROJECT"
  exit 1
end